<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Foodie</title>

    <!-- Custom fonts for this template -->
    <link rel="stylesheet" type="text/css" th:href="@{/vendor/fontawesome-free/css/all.min.css}">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/sb-admin-2.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/adminlte.min.css}" />
    <!-- Custom styles for this page -->
    <link rel="stylesheet" type="text/css" th:href="@{/vendor/datatables/dataTables.bootstrap4.min.css}">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <div th:replace="./fragments/admin-sidebar.html"> </div>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <div class="container-fluid">

                    <!-- Page Heading -->
<!--                    <h1 class="h3 mb-2 text-gray-800">레드리스트</h1>-->
<!--                    <p th:text="${regionInfos}"></p>-->
<!--                    <p class="mb-4">레드리스트 관리자 페이지 입니다. <a target="_blank" href="#">레드리스트 이동</a>.</p>-->

                    <!-- DataTales Example -->
                    <div class="card shadow mb-4" style="width: 700px;margin:auto;">
                        <div class="card-header py-3">
                            <!--/*@thymesVar id="background" type="String"*/-->
                            <h6 class="m-0 font-weight-bold text-primary" style="    width: 30%;float: left;" th:text="${background}">그린리스트 여행지목록</h6>
                            <input type="hidden" th:value="${shopBackground}" id="background">
                            <a th:href="@{/admin/registerGreenShop}">
                                <button class="btn btn-info btn-sm" style="float: right">여행지 등록하기</button>
                            </a>
                        </div>
                        <div>
                        <div style="width: 90%;margin:auto;margin-top: 20px;    font-size: 9pt;    border: 1px solid lightgray">
                            <div style="    border-bottom: 1px solid lightgray;">
                                <div style="display: inline-flex;">
                                    <div  style="    height: 31px; text-align:center; width: 120px; padding-top: 6px;background: rgb(247, 247, 247);   border-right: 1px solid lightgray"> 여행지 카테고리</div>
                                    <p style="    padding-left: 20px;  padding-top: 5px;  margin-bottom: 0;">
                                        <select id="table-filter1" style="    height: 20px;">
                                            <option value="">대분류</option>
                                            <option
                                                    th:each="val : ${categoryInfos}"
                                                    th:value="${val.id}"
                                                    th:utext="${val.listName}"
                                            ></option>
                                        </select>
                                        <select id="table-filter2" style="    height: 20px;">
                                            <option value="-1">중분류</option>
                                        </select>
                                        <select id="table-filter3" style="    height: 20px;">
                                            <option value="-1">소분류</option>
                                        </select>
                                    </p>
                                </div>
                            </div>
                            <div style="    border-bottom: 1px solid lightgray;">
                                <div style="display: inline-flex;">
                                    <div  style="    height: 31px; text-align:center; width: 120px; padding-top: 6px;background: rgb(247, 247, 247);   border-right: 1px solid lightgray"> 지역</div>
                                    <p style=" padding-left: 20px; padding-top: 5px; margin-bottom: 0;">
                                        <select id="table-filter4" style="    height: 20px;">
                                            <option value="">1차 지역 선택</option>
                                            <option
                                                    th:each="val : ${regionInfos}"
                                                    th:value="${val.id}"
                                                    th:utext="${val.listName}">
                                            </option>
                                        </select>
                                        <select id="table-filter5" style="height: 20px;">
                                            <option value="-1">2차 지역 선택</option>
                                        </select>

                                        <select id="table-filter6" style="height: 20px;">
                                            <option value="-1">3차 지역 선택</option>
                                        </select>
                                    </p>
                                    <p style=" padding-left: 20px; padding-top: 5px; margin-bottom: 0;">
                                        등록서비스
                                        <select id="table-filter7" style="height: 20px;">
                                            <option value="">전체</option>
                                            <option value="">프리미엄</option>
                                            <option value="">인기업소</option>
                                            <option value="">추천업소</option>
                                            <option value="">스폐셜업소</option>
                                            <option value="">줄광고</option>
                                            <option value="">베스트쿠폰</option>
                                        </select>
                                    </p>
                                    <div style="margin-top: 7px; margin-left: 10px;">
                                        <input type="checkbox" name="" style="padding-top: 10px;">
                                    </div>
                                    <p style=" padding-left: 5px; padding-top: 5px; margin-bottom: 0;">
                                        쿠폰
                                    </p>
                                </div>
                            </div>
                            <div style="display: inline-flex;">
                                <div  style="height: 31px; text-align:center; width: 120px;  padding-top: 6px; background: rgb(247, 247, 247); border-right: 1px solid lightgray"> 검색어 </div>
                                <p style="    padding-left: 20px;  padding-top: 5px;  margin-bottom: 0;">
                                    <select id="table-filter8" style="  height: 20px;">
                                        <option value="-1">선택</option>
                                        <option value="업소명">업소명</option>
                                        <option value="등록자">등록자</option>
                                        <option value="아이디">아이디</option>
                                        <option value="전화번호">전화번호</option>
                                    </select>
                                    <input type="text" id="keyword" style="height: 20px; width: 120px;"/>
                                </p>
                            </div>
                            <button value="조회" style="width: 50px;margin-right: 5px;height: 25px;float: right;margin-top: 3px; border-radius: 5px;" onclick="window.location.href=window.location.href">초기화</button>
                            <button value="조회" style="width: 50px;margin-right: 5px;height: 25px;float: right;margin-top: 3px; background-color: #41609b; color: white; border-radius: 5px;" onclick="filterSearch()">검색</button>
                        </div>

                        <div class="card-body" style="width:100%; padding-right: 0px;margin: auto; padding-bottom: 0px;">
                            <!-- 전체 등록건수 및 정렬 옵션 -->
                            <div style="font-size: 9px;margin: auto;    padding-right: 20px;">
                                <div style="float: left; margin-bottom:10px;">
                                    <span id="item-size" style="color: #317CC1; font-weight: 600;">총 등록되었습니다.</span>
                                </div>
                                <div style="float: right">
                                    <button onclick="clickOrdering(this)" value = "등록일순">등록일순</button>
                                    <span>|</span>
                                    <button onclick="clickOrdering(this)" value = "수정일순">수정일순</button>
                                    <span>|</span>
                                    <button onclick="clickOrdering(this)" value = "조회순">조회순</button>
                                    <span>|</span>
                                    <button onclick="clickOrdering(this)" value = "평점순">평점순</button>
                                </div>
                            </div>
                            <!-- 리스트 테이블 -->
                            <div class="table-responsive" style="font-size: 9pt;margin: auto;    padding-right: 20px;">
                                <table class="table table-bordered display" id="list-table" cellspacing="0" border="1px solid #dee2e6">
                                    <thead>
                                    <tr>
                                        <th style="text-align: center" >사진</th>
                                        <th style="width: 300px;">내용</th>
                                        <th>서비스현황</th>
                                        <th>수정</th>
                                        <th>삭제</th>
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div class="pagination" style="margin-bottom: 15px;">
                            <div style="margin: 0 auto; display: flex;">
                                <button id="first" onclick="clickButton(this)"><img src="/images/paging_first.gif"/></button>
                                <button id="prev" onclick="clickButton(this)" style="margin-right: 10px;"><img src="/images/paging_pre.gif"/></button>
                                <div id = "pages">
                                </div>
                                <button id="next" onclick="clickButton(this)" style="margin-left: 10px;"><img src="/images/paging_next.gif"/></button>
                                <button id="last" onclick="clickButton(this)"><img src="/images/paging_last.gif"/></button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Your Website 2020</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="login.html">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
    <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

    <!-- Core plugin JavaScript-->
    <script th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>

    <!-- Custom scripts for all pages-->
    <script th:src="@{/js/sb-admin-2.min.js}"></script>

    <!-- Page level plugins -->
    <script th:src="@{/vendor/datatables/jquery.dataTables.min.js}"></script>
    <script th:src="@{/vendor/datatables/dataTables.bootstrap4.min.js}"></script>

    <!-- Page level custom scripts -->
<!--    <script th:src="@{/js/demo/datatables-demo.js}"></script>-->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.8.1/css/bootstrap-select.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.8.1/js/bootstrap-select.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
</body>

<style>
    #preview{
        z-index: 9999;
        position:absolute;
        border:0px solid #ccc;
        background:#333;
        padding:1px;
        display:none;
        color:#fff;
    }

    table{
        table-layout: fixed;
        word-wrap:break-word;
    }
    .table td, .table th{
        padding: 7px !important;
        text-align: center;
    }

    .table td{
        text-align: center;
    }

    button {
        border: 0;
        outline: 0;
        background-color: transparent;
    }

    /*.data_table {*/
    /*    text-align: center;*/
    /*    vertical-align: middle !important;*/
    /*}*/
</style>
<script type="text/javascript">
    $(document).ready(function() {
        var xOffset = 10;
        var yOffset = 30;

        $(document).on("mouseover",".thumbnail",function(e){ //마우스 오버시

            $("body").append("<p id='preview'><img src='"+ $(this).attr("src") +"' width='400px' /></p>"); //보여줄 이미지를 선언
            $("#preview")
                .css("top",(e.pageY - xOffset) + "px")
                .css("left",(e.pageX + yOffset) + "px")
                .fadeIn("fast"); //미리보기 화면 설정 셋팅
        });

        $(document).on("mousemove",".thumbnail",function(e){ //마우스 이동시
            $("#preview")
                .css("top",(e.pageY - xOffset) + "px")
                .css("left",(e.pageX + yOffset) + "px");
        });

        $(document).on("mouseout",".thumbnail",function(){ //마우스 아웃시
            $("#preview").remove();
        });

        $('#table-filter1').change( function(){
            get_category_info( this , "table-filter1"); // 셀렉트 박스 선택이 바뀔때 "셀렉트박스 요소" 를 함수로 전달
        });

        $('#table-filter2').change( function(){
            get_category_info( this, "table-filter2" ); // 셀렉트 박스 선택이 바뀔때 "셀렉트박스 요소" 를 함수로 전달
        });

        $('#table-filter4').change( function(){
            get_region_info( this, "table-filter4"); // 셀렉트 박스 선택이 바뀔때 "셀렉트박스 요소" 를 함수로 전달
        });

        $('#table-filter5').change( function(){
            get_region_info( this, "table-filter5"); // 셀렉트 박스 선택이 바뀔때 "셀렉트박스 요소" 를 함수로 전달
        });


        function get_region_info(o, type){
            var val = $( ':selected', o).val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
            $.ajax({
                url:"/admin/epicure/area_type/" + val,
                contentType: "application/json",
                dataType: "json",
                type:"GET",
            }).done(function (data) {
                var data = data.data;
                if(data.length > 0) {
                    if(type == "table-filter4") {
                        $("#table-filter5").find("option").remove().end();
                        $("#table-filter5").append("<option value='-1'>2차 지역 선택</option>");
                        $.each(data, function (key, value) {
                            $("#table-filter5").append("<option value='" + value.id + "'>" + value.listName + "</option>");
                        });
                        console.log(data[0])
                    }else{
                        $("#table-filter6").find("option").remove().end();
                        $("#table-filter6").append("<option value='-1'>3차 지역 선택</option>");
                        $.each(data, function(key, value) {
                            $("#table-filter6").append("<option value='" + value.id + "'>" + value.listName + "</option>");
                        });
                        console.log(data[0])
                    }
                } else {
                    if(type == "table-filter4") {
                        $("#table-filter5").find("option").remove().end().append("<option value='-1'>NO DATA</option>");
                        $("#table-filter5").find("option").remove().end();
                        $("#table-filter5").append("<option value='-1'></option>");
                        return;
                    }else{
                        $("#table-filter6").find("option").remove().end().append("<option value='-1'>NO DATA</option>");
                        $("#table-filter6").find("option").remove().end();
                        $("#table-filter6").append("<option value='-1'></option>");
                        return;
                    }
                }

            });
        }
        function get_category_info(o, type){
            var val = $( ':selected', o).val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
            console.log(val)
            if(val != ''){
                $.ajax({
                    type:"get",
                    url:"/admin/epicure/green_shop_type/" + val,
                    datatype: "json",
                    success: function(data) {
                        var data = data.data;
                        if(data.length > 0) {
                            if(type == "table-filter1") {
                                $("#table-filter2").find("option").remove().end();
                                $("#table-filter2").append("<option value='-1'>중분류</option>");
                                $.each(data, function (key, value) {
                                    $("#table-filter2").append("<option value='" + value.id + "'>" + value.listName + "</option>");
                                });
                            }else{
                                $("#table-filter3").find("option").remove().end();
                                $("#table-filter3").append("<option value='-1'>소분류</option>");
                                $.each(data, function(key, value) {
                                    $("#table-filter3").append("<option value='" + value.id + "'>" + value.listName + "</option>");
                                });
                            }
                        } else {
                            if(type == "table-filter1") {
                                $("#table-filter2").find("option").remove().end().append("<option value='-1'>중분류</option>");
                                $("#table-filter3").find("option").remove().end();
                                $("#table-filter3").append("<option value='-1'>소분류</option>");
                                return;
                            }else {
                                $("#table-filter3").find("option").remove().end().append("<option value='-1'>소분류</option>");
                                // $("#table-filter3").find("option").remove().end();
                                // $("#table-filter3").append("<option value='0'>NO DATA</option>");
                                return;
                            }
                        }
                    },

                    error: function(x, o, e) {
                        var msg = "페이지 호출 중 에러 발생 \n" + x.status + " : " + o + " : " + e;
                        console.log(msg);
                    }
                });
            }else {
                if(type == "table-filter1") {
                    $("#table-filter2").find("option").remove().end();
                    $("#table-filter2").append("<option value=''></option>");
                    $("#table-filter3").find("option").remove().end();
                    $("#table-filter3").append("<option value=''></option>");
                }else{
                    $("#table-filter3").find("option").remove().end();
                    $("#table-filter3").append("<option value=''></option>");
                }
            }
        }


    <!-- 페이지 로드 시 데이터 -->
        var param = {
            'background' :$('#background').val(),
            'renderOption':'1',
            'page':1,
            'order':"등록일순"
        };

        $.ajax({
            url:"/item/list",
            type:"POST",
            data:param,
            dataType: "json",
            success:function(data){
                //1. 맛집 개수 출력
                $('#item-size').text('총' + data.count + '건의 맛집정보가 검색되었습니다.');
                var shop = data.data;

                //2. 상점 리스트 업
                var tr = '';
                $.each(shop, function (i) {
                    var imgUrl = '';
                    var shopPaid = '';
                    // if(shop[i].menuImages == "" || "[]") imgUrl = '/images/default.png';
                    // else imgUrl = shop[i].menuImages;
                    if(shop[i].shopPaid != null){
                        shopPaid = shop[i].shopPaid
                    }
                    tr +=
                        '<tr>' +
                        '<td>' +
                        '<img src="' + shop[i].menuImages + '" onerror="this.src=\'/images/default.png\'"class="thumbnail" style="width: 80px; height:60px;"/>' +
                        '</td>' +
                        '<td style="text-align: left;">' +
                        '<div>' +
                        '<a href="/shop?id='+ shop[i].shopId + '&page=0">' + shop[i].shopName + '</a>' +
                        '<span>(전문가평가:'+ shop[i].foodieLogRating +')</span>' +
                        '</div>' +
                        '<hr>' +
                        '<div>' +
                        '<span>'+ shop[i].address +' | ' + shop[i].phone + '</span>' +
                        '</div>' +
                        '<div>' +
                        '<span>등록: '+ moment(shop[i].createdAt).format("YYYY-MM-DD") +'  수정: ' + moment(shop[i].updatedAt).format("YYYY-MM-DD") + '</span>' +
                        '</div>' +
                        '</td>' +
                        '<td>' + shopPaid + '</td>' +
                        '<td><a href="/admin/shop/green/' + shop[i].shopId + '">수정</a></td>' +
                        '<td><a onclick="return confirmUser();" href="/admin/shop/delete/green/' + shop[i].shopId + '">삭제</a></td>' +
                        '</tr>';
                });
                $("#list-table").append(tr);

                //3. 페이지 업
                var pages = data.pages;
                var currentPage = data.currentPage;
                var button = '';
                $.each(pages, function(i){
                    if(i == currentPage){
                        button +=
                            '<button style="margin-right: 3px; margin-left: 3px; color: #1c294e; font-weight: bold;" value="' + pages[i] + '" onclick="clickButton(this)">' + pages[i] + '</button>'
                    }else {
                        button +=
                            '<button style="margin-right: 3px; margin-left: 3px;" value="' + pages[i] + '" onclick="clickButton(this)">' + pages[i] + '</button>'
                    }
                });
                $("#pages").append(button);

                //4. 버튼들
                var btns = data.btns;
                if (btns.first == -1) {
                    document.getElementById('first').disabled = true;
                } else {
                    document.getElementById('first').disabled = false;
                    $("#first").val(btns.first);
                }

                if (btns.prev == -1) {
                    document.getElementById('prev').disabled = true;
                } else {
                    document.getElementById('prev').disabled = false;
                    $("#prev").val(btns.prev);
                }

                if(btns.next == -1){
                    document.getElementById('next').disabled = true;
                } else {
                    document.getElementById('next').disabled = false;
                    $("#next").val(btns.next);
                }

                if(btns.last == -1){
                    document.getElementById('last').disabled = true;
                } else {
                    document.getElementById('last').disabled = false;
                    $("#last").val(btns.last);
                }
            }
        });
    } );

    var ordering = "등록일순";

    function confirmUser(){
        return confirm("삭제하시겠습니까?");
    }
    function clickOrdering(e){
        ordering = e.value;
        clickButton(1);
    }

    function filterSearch(){
        //조회 시 기본 정렬 > 등록순
        clickButton(1);
    }

    function clickButton(e){
        $('#list-table tr:not(:first)').remove();
        $("#pages").empty();
        console.log('오더에여', ordering);
        var page = e == 1 ? 1:e.value;

        var shop1st = $('#table-filter1 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var shop2nd = $('#table-filter2 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var shop3th = $('#table-filter3 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var area1st = $('#table-filter4 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var area2nd = $('#table-filter5 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var area3th = $('#table-filter6 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var selectedOption = $('#table-filter8 :selected').val(); // 전달받은 "셀렉트박스 요소" 에서 선택된 것 찾기
        var keyword = $('#keyword').val()

        // - 1일시 검색하지 않음.
        if(selectedOption == "") selectedOption = "-1";
        if(keyword == "") keyword = "-1";
        if(shop1st == "") shop1st = "-1";
        if(shop2nd == "") shop2nd = "-1";
        if(shop3th == "") shop3th = -1;
        if(area1st == "") area1st = -1;
        if(area2nd == "") area2nd = -1;
        if(area3th == "") area3th = -1;

        console.log(shop1st);
        console.log(shop2nd);
        console.log(shop3th);
        console.log(area1st);
        console.log(area2nd);
        console.log(area3th);

        var param = {
            'background' :$('#background').val(),
            'renderOption': '2',
            'page': page,
            'shop1st' : shop1st,
            'shop2nd' : shop2nd,
            'shop3th' : shop3th,
            'area1st' : area1st,
            'area2nd' : area2nd,
            'area3th' : area3th,
            'selectedOption': selectedOption,
            'keyword':keyword,
            'order': ordering
        }
        $.ajax({
            url:"/item/list",
            type:"POST",
            data:param,
            dataType: "json",
            success:function(data){
                //1. 맛집 개수 출력
                $('#item-size').text('총' + data.count + '건의 맛집정보가 검색되었습니다.');
                var shop = data.data;

                //2. 상점 리스트 업
                var tr = '';
                $.each(shop, function (i) {
                    var imgUrl = '';
                    console.log(shop[i].menuImages)
                    if(shop[i].menuImages == "" || "[]") imgUrl = '/images/default.png';
                    else imgUrl = shop[i].menuImages.split(",")[0];
                    tr +=
                        '<tr>' +
                        '<td>' +
                        '<img src="' + imgUrl + '" onerror="this.src=\'/images/default.png\'"class="thumbnail" style="width: 80px; height:60px;"/>' +
                        '</td>' +
                        '<td style="text-align: left;">' +
                        '<div>' +
                        '<a href="/shop?id='+ shop[i].shopId + '&page=0">' + shop[i].shopName + '</a>' +
                        '<span>(전문가평가:'+ shop[i].foodieLogRating +')</span>' +
                        '</div>' +
                        '<hr>' +
                        '<div>' +
                        '<span>'+ shop[i].address +' | ' + shop[i].phone + '</span>' +
                        '</div>' +
                        '<div>' +
                        '<span>등록: '+ moment(shop[i].createdAt).format("YYYY-MM-DD") +'  수정: ' + moment(shop[i].updatedAt).format("YYYY-MM-DD") + '</span>' +
                        '</div>' +
                        '</td>' +
                        '<td>' + shop[i].shopPaid + '</td>' +
                        '<td><a href="/admin/shop/green/' + shop[i].shopId + '">수정</a></td>' +
                        '<td><a onclick="return confirmUser();" href="/admin/shop/delete/green/' + shop[i].shopId + '">삭제</a></td>' +
                        '</tr>';
                });
                $("#list-table").append(tr);


                //3. 페이지 업
                var pages = data.pages;
                var currentPage = data.currentPage;
                var button = '';
                $.each(pages, function(i){
                    if(i == currentPage){
                        button +=
                            '<button style="margin-right: 3px; margin-left: 3px; color: #1c294e; font-weight: bold;" value="' + pages[i] + '" onclick="clickButton(this)">' + pages[i] + '</button>'
                    }else {
                        button +=
                            '<button style="margin-right: 3px; margin-left: 3px;" value="' + pages[i] + '" onclick="clickButton(this)">' + pages[i] + '</button>'
                    }
                });
                $("#pages").append(button);

                //4. 버튼들
                var btns = data.btns;
                if (btns.first == -1) {
                    document.getElementById('first').disabled = true;
                } else {
                    document.getElementById('first').disabled = false;
                    $("#first").val(btns.first);
                }

                if (btns.prev == -1) {
                    document.getElementById('prev').disabled = true;
                } else {
                    document.getElementById('prev').disabled = false;
                    $("#prev").val(btns.prev);
                }

                if(btns.next == -1){
                    document.getElementById('next').disabled = true;
                } else {
                    document.getElementById('next').disabled = false;
                    $("#next").val(btns.next);
                }

                if(btns.last == -1){
                    document.getElementById('last').disabled = true;
                } else {
                    document.getElementById('last').disabled = false;
                    $("#last").val(btns.last);
                }
            }
        });

    }
</script>

</html>